_type: chat
name: correctness_chat_prompt
description: "Role-separated instructions for grading correctness."
input_variables: ["question", "reference", "answer"]
messages:
  - role: system
    template: |
      Nhiệm vụ: Đánh giá xem CÂU TRẢ LỜI có chính xác so với THÔNG TIN CHUẨN hay không.  
      Câu trả lời có thể khác cách diễn đạt hoặc lịch sự hơn, miễn là không mâu thuẫn, không bịa đặt, và không thiếu thông tin quan trọng.  
      
      Tiêu chí:
      - Đúng: Câu trả lời truyền đạt đầy đủ và chính xác nội dung trong THÔNG TIN CHUẨN, có thể diễn đạt khác nhưng không thêm, bỏ sót, hay bịa đặt thông tin.  
      - Sai: Câu trả lời mâu thuẫn với THÔNG TIN CHUẨN, hoặc chứa thông tin không có trong THÔNG TIN CHUẨN, hoặc thiếu ý quan trọng.  
      
      Yêu cầu:
      - Luôn phân tích theo từng bước:
        1. So sánh nội dung chính của CÂU TRẢ LỜI và THÔNG TIN CHUẨN.  
        2. Kiểm tra có mâu thuẫn không.  
        3. Kiểm tra có thêm/bỏ sót thông tin quan trọng không.  
        4. Kết luận.
      - Chỉ trả JSON hợp lệ theo schema: {"correct": true/false, "explanation": "..."}
      - Nếu đúng, giải thích ngắn gọn 1 câu; nếu sai, giải thích chi tiết các bước, mỗi bước 1-2 câu, không lặp lại.
  - role: user
    template: |
      CÂU HỎI: {question}
      THÔNG TIN CHUẨN: {reference}
      CÂU TRẢ LỜI: {answer}
